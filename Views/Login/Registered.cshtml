
@{
    ViewBag.Title = "Registered";
}


    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: "Segoe UI", Arial, sans-serif;
            /* 渐变背景 */
            background: linear-gradient(135deg, #e0f7fa, #e1bee7);
            min-height: 100vh;
            /* 内容居中 */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* 表单容器美化 */
        .demo-reg-container {
            width: 360px;
            margin: 0 auto;
            padding: 20px 25px;
            background: #ffffffee; /* 半透明白色，和背景融合 */
            border-radius: 16px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        .demo-reg-other .layui-icon {
            position: relative;
            display: inline-block;
            margin: 0 2px;
            top: 2px;
            font-size: 26px;
        }
    </style>
    <form class="layui-form">
        <div class="demo-reg-container">
            <div class="layui-form-item">
                <div class="layui-input-wrap">
                    <div class="layui-input-prefix">
                        <i class="layui-icon layui-icon-username"></i>
                    </div>
                    <input type="text" name="UserCode" value="" lay-verify="required" placeholder="请输入账号" autocomplete="off" class="layui-input" lay-affix="clear">
                </div>
            </div>
            <div class="layui-form-item">
                <div class="layui-input-wrap">
                    <div class="layui-input-prefix">
                        <i class="layui-icon layui-icon-username"></i>
                    </div>
                    <input type="text" name="UserName" value="" lay-verify="required" placeholder="请输入姓名" autocomplete="off" class="layui-input" lay-affix="clear">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label" style="width:28px;">性别</label>
                <div class="layui-input-block">
                    <input type="radio" name="Sex" value="true" title="男" checked>
                    <input type="radio" name="Sex" value="false" title="女">
                </div>
            </div>
                @* <div class="layui-input-wrap">
            <div class="layui-input-prefix">
                <i class="layui-icon layui-icon-date"></i>
            </div>
            <input type="text" name="BirthDay" value="" lay-verify="data" placeholder="生日" autocomplete="off" class="layui-input" lay-affix="clear">
        </div>*@
        <div class="layui-form-item">
            <div class="layui-input-wrap">
                <div class="layui-input-prefix">
                    <i class="layui-icon layui-icon-date"></i>
                </div>
                <input type="text" name="BirthDay" id="date" lay-verify="required|date" placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input">
            </div>
        </div>
            
            <div class="layui-form-item">
                <div class="layui-input-wrap">
                    <div class="layui-input-prefix">
                        <i class="layui-icon layui-icon-username"></i>
                    </div>
                    <input type="text" name="NativePlace" value="" lay-verify="required" placeholder="籍贯" autocomplete="off" class="layui-input" lay-affix="clear">
                </div>
            </div>
            <div class="layui-form-item">
                <div class="layui-input-wrap">
                    <div class="layui-input-prefix">
                        <i class="layui-icon layui-icon-username"></i>
                    </div>
                    <input type="text" name="Address" value="" lay-verify="required" placeholder="住址" autocomplete="off" class="layui-input" lay-affix="clear">
                </div>
            </div>
            <div class="layui-form-item">
                <div class="layui-input-wrap">
                    <div class="layui-input-prefix">
                        <i class="layui-icon layui-icon-password"></i>
                    </div>
                    <input type="password" name="Password" value="" lay-verify="required" placeholder="密码" autocomplete="off" class="layui-input" id="reg-password" lay-affix="eye">
                </div>
            </div>
            <div class="layui-form-item">
                <div class="layui-input-wrap">
                    <div class="layui-input-prefix">
                        <i class="layui-icon layui-icon-password"></i>
                    </div>
                    <input type="password" name="confirmPassword" value="" lay-verify="required|confirmPassword" placeholder="确认密码" autocomplete="off" class="layui-input" lay-affix="eye">
                </div>
            </div>
            <div class="layui-form-item">
                <div class="layui-input-wrap">
                    <div class="layui-input-prefix">
                        <i class="layui-icon layui-icon-username"></i>
                    </div>
                    <input type="email" name="Email" value="" lay-verify="required" placeholder="邮箱" autocomplete="off" class="layui-input" lay-affix="clear">
                </div>
            </div>
            <div class="layui-form-item">
                <div class="layui-input-wrap">
                    <div class="layui-input-prefix">
                        <i class="layui-icon layui-icon-username"></i>
                    </div>
                    <input type="text" name="Tel" value="" lay-verify="required" placeholder="电话" autocomplete="off" class="layui-input" lay-affix="clear">
                </div>
            </div>
            <div class="layui-form-item">
                <input type="checkbox" name="agreement" lay-verify="required" lay-skin="primary" title="同意">
                <a href="#terms" target="_blank" style="position: relative; top: 6px; left: -15px;">
                    <ins>用户协议</ins>
                </a>
            </div>
            <div class="layui-form-item">
                <button class="layui-btn layui-btn-fluid" lay-submit lay-filter="demo-reg">注册</button>
            </div>
        </div>
    </form>
  
    <script>
        layui.use(function () {
            var $ = layui.$;
            var form = layui.form;
            var layer = layui.layer;
            var util = layui.util;
            var laydate = layui.laydate;

            // 自定义验证规则
            form.verify({
                // 确认密码
                confirmPassword: function (value, item) {
                    var passwordValue = $('#reg-password').val();
                    if (value !== passwordValue) {
                        return '两次密码输入不一致';
                    }
                }
            });

            // 提交事件
            form.on('submit(demo-reg)', function (data) {
                var field = data.field; // 获取表单字段值

                // 是否勾选同意
                if (!field.agreement) {
                    layer.msg('您必须勾选同意用户协议才能注册');
                    return false;
                }
                


                // 此处可执行 Ajax 等操作
                $.ajax({
                    url: "/Login/VeryifyAdd",
                    type: "post",
                    data: field,
                    success: function (res) {
                        if (res.code == 0) {
                            layer.msg(res.msg, { icon: 6, time: 1000 }, function () {
                                window.location.href = "/Login/Index";
                            });
                        } else {
                            layer.msg(res.msg, { icon: 5, time: 2000 });
                        }
                    }
                })

                // …

                return false; // 阻止默认 form 跳转
            });

            // 日期选择器绑定
            laydate.render({
                elem: '#date',
                type: 'date',
                format: 'yyyy-MM-dd'
            });

            // 普通事件
            util.on('lay-on', {
                // 获取验证码
                'reg-get-vercode': function (othis) {
                    var isvalid = form.validate('#reg-cellphone'); // 主动触发验证，v2.7.0 新增
                    // 验证通过
                    if (isvalid) {
                        layer.msg('手机号规则验证通过');
                        // 此处可继续书写「发送验证码」等后续逻辑
                        // …
                    }
                }
            });
        });
    </script>


